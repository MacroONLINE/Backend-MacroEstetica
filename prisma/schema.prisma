generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                     String                  @id @default(cuid())
  firstName              String?
  lastName               String?
  phone                  String?
  email                  String                  @unique
  emailVerified          DateTime?
  address                String?
  province               String?
  city                   String?
  country                String?                 @default("Mexico")
  countryCode            String?                 @default("MX")
  zipCode                String?
  role                   Role                    @default(ESTANDAR)
  password               String
  status                 Boolean                 @default(true)
  createdAt              DateTime                @default(now())
  updatedAt              DateTime                @updatedAt
  newsletter             Boolean                 @default(false)
  userSubscription       String?
  profileImageUrl        String?                 @default("https://res.cloudinary.com/dwcrzwawj/image/upload/v1735332034/11_que_es_un_cosmetico_lider_uy08ij.jpg")
  authoredBlogs          BlogAuthor?
  blogComments           BlogComment[]
  blogRatings            BlogRating[]
  chatMessages           ChatMessage[]
  classComments          ClassComment[]
  classProgress          ClassProgress[]
  classroomEnrollments   ClassroomEnrollment[]
  enrollments            CourseEnrollment[]
  empresa                Empresa?
  eventEnrollments       EventEnrollment[]
  eventStreamEnrollments EventStreamEnrollment[] @relation("UserEventStreamEnrollments")
  instructor             Instructor?
  medico                 Medico?
  Session                Session[]
  workshopEnrollments    WorkshopEnrollment[]
  attendedClassrooms     Classroom[]             @relation("ClassroomAttendees")
  attendedEvents         Event[]                 @relation("EventAttendees")
  attendedStreams        EventStream[]           @relation("EventStreamAttendees")
  attendedWorkshops      Workshop[]              @relation("WorkshopAttendees")

   courseReactions  CourseReaction[]
  productReactions ProductReaction[]
}

model Medico {
  id           String         @id @default(cuid())
  profession   Profession     @default(DERMATOLOGIA)
  type         ProfessionType @default(MEDICO)
  verification String
  userId       String         @unique
  createdAt    DateTime       @default(now())
  updatedAt    DateTime       @default(now())
  user         User           @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Empresa {
  id                   String                   @id @default(cuid())
  dni                  String?
  name                 String
  giro                 Giro                     @default(EMPRESA_PROFESIONAL_PERFIL)
  userId               String                   @unique
  createdAt            DateTime                 @default(now())
  updatedAt            DateTime                 @default(now())
  subscription         SubscriptionType?
  bannerImage          String?
  categoria            EmpresaCategory          @default(EMPRESA_PERFIL)
  ceo                  String?
  ceoRole              String?
  followers            Int                      @default(0)
  location             String?
  logo                 String?
  profileImage         String?
  title                String?
  webUrl               String?
  legalName            String?
  banners              Banner[]
  blogPosts            BlogPost[]
  user                 User                     @relation(fields: [userId], references: [id], onDelete: Cascade)
  empresaSubscriptions EmpresaSubscription[]
  leadingEvents        Event[]                  @relation("LeadingCompany")
  instructores         Instructor[]             @relation("EmpresaInstructors")
  minisite             Minisite?
  productos            Product[]
  categorias           ProductCompanyCategory[]
}

model Subscription {
  id            String                @id @default(cuid())
  type          SubscriptionType      @unique
  description   String
  price         Float
  createdAt     DateTime              @default(now())
  updatedAt     DateTime              @default(now())
  subscriptions EmpresaSubscription[]
}

model EmpresaSubscription {
  id             String       @id @default(cuid())
  empresaId      String
  subscriptionId String
  startDate      DateTime     @default(now())
  endDate        DateTime
  status         String       @default("active")
  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @default(now())
  empresa        Empresa      @relation(fields: [empresaId], references: [id], onDelete: Cascade)
  subscription   Subscription @relation(fields: [subscriptionId], references: [id], onDelete: Cascade)
}

model Course {
  id                   String             @id @default(cuid())
  title                String
  bannerUrl            String
  description          String
  level                String
  rating               Float              @default(0)
  commentsCount        Int                @default(0)
  averageRating        Float              @default(0)
  instructorId         String?
  price                Float
  discountPercentage   Float?
  participantsCount    Int                @default(0)
  target               Target             @default(MEDICO)
  createdAt            DateTime           @default(now())
  updatedAt            DateTime           @default(now())
  categoryId           String
  isFeatured           Boolean?
  courseImageUrl       String             @default("")
  aboutDescription     String?
  requirements         Json?
  totalHours           Int                @default(1)
  whatYouWillLearn     Json?
  introductoryVideoUrl String?
  category             Category           @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  instructor           Instructor?        @relation(fields: [instructorId], references: [id])
  enrollments          CourseEnrollment[]
  modules              Module[]
  resources            Resource[]
  reactions CourseReaction[]
}

model Resource {
  id        String   @id @default(cuid())
  courseId  String
  url       String
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  course    Course   @relation(fields: [courseId], references: [id], onDelete: Cascade)
}

model Instructor {
  id                    String         @id @default(cuid())
  profession            Profession
  type                  ProfessionType
  description           String
  experienceYears       Int
  certificationsUrl     String
  status                String
  userId                String         @unique
  createdAt             DateTime       @default(now())
  updatedAt             DateTime       @default(now())
  empresaId             String?
  categoryId            String?
  bannerImage           String?
  followers             Int?
  title                 String?
  experienceDescription String         @default("")
  genero                Gender?
  validated             Boolean?       @default(false)
  courses               Course[]
  category              Category?      @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  empresa               Empresa?       @relation("EmpresaInstructors", fields: [empresaId], references: [id], onDelete: Cascade)
  user                  User           @relation(fields: [userId], references: [id], onDelete: Cascade)
  classrooms            Classroom[]    @relation("ClassroomInstructors")
  streams               EventStream[]  @relation("StreamOrators")
  workshops             Workshop[]     @relation("WorkshopInstructors")
}

model Category {
  id          String       @id @default(cuid())
  name        String
  urlIcon     String
  colorHex    String
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @default(now())
  courses     Course[]
  instructors Instructor[]
}

model Module {
  id          String   @id @default(cuid())
  courseId    String?
  description String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @default(now())
  classes     Class[]
  course      Course?  @relation(fields: [courseId], references: [id], onDelete: Cascade)
}

model Class {
  id             String          @id @default(cuid())
  moduleId       String?
  description    String
  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @default(now())
  videoUrl       String?
  imageUrl       String?
  title          String          @default("")
  module         Module?         @relation(fields: [moduleId], references: [id], onDelete: Cascade)
  classComments  ClassComment[]
  progress       ClassProgress[]
  classResources ClassResource[]

  @@map("Class")
}

model ClassResource {
  id        String   @id @default(cuid())
  classId   String
  title     String
  fileUrl   String
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  class     Class    @relation(fields: [classId], references: [id], onDelete: Cascade)
}

model ClassProgress {
  id        String   @id @default(cuid())
  userId    String
  classId   String
  completed Boolean  @default(false)
  updatedAt DateTime @default(now())
  createdAt DateTime @default(now())
  class     Class    @relation(fields: [classId], references: [id], onDelete: Cascade)
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Classroom {
  id            String                @id @default(cuid())
  title         String
  description   String
  createdAt     DateTime              @default(now())
  updatedAt     DateTime              @default(now())
  channelName   String?               @unique
  endDateTime   DateTime              @default(now())
  imageUrl      String?
  price         Float?
  startDateTime DateTime              @default(now())
  categories    Profession[]          @default([MEDICO_DERMATOLOGIA])
  isFree        Boolean               @default(false)
  enrollments   ClassroomEnrollment[]
  attendees     User[]                @relation("ClassroomAttendees")
  orators       Instructor[]          @relation("ClassroomInstructors")
}

model ClassroomEnrollment {
  id          String    @id @default(cuid())
  classroomId String
  userId      String
  status      String
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @default(now())
  classroom   Classroom @relation(fields: [classroomId], references: [id], onDelete: Cascade)
  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([classroomId, userId])
}

model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique
  userId       String
  expires      DateTime
  createdAt    DateTime @default(now())
  updatedAt    DateTime @default(now())
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model CourseEnrollment {
  id         String   @id @default(cuid())
  courseId   String
  userId     String
  enrolledAt DateTime @default(now())
  course     Course   @relation(fields: [courseId], references: [id], onDelete: Cascade)
  user       User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model PasswordReset {
  id        Int      @id @default(autoincrement())
  email     String
  token     String   @unique
  createdAt DateTime @default(now())
  expiresAt DateTime
}

model Transaction {
  id                      String   @id @default(cuid())
  stripePaymentIntentId   String?  @unique
  stripeCheckoutSessionId String?  @unique
  status                  String
  amount                  Float
  currency                String
  userId                  String?
  courseId                String?
  createdAt               DateTime @default(now())
  updatedAt               DateTime @default(now())
  responseData            Json
  description             String?
  invoiceId               String?
}

model Banner {
  id              String    @id @default(cuid())
  banner          String
  title           String
  description     String
  date            DateTime?
  cta_url         String?
  cta_button_text String    @default("¡Clic aquí!")
  logo            String
  empresaId       String?
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @default(now())
  empresa         Empresa?  @relation(fields: [empresaId], references: [id], onDelete: Cascade)
}

model Event {
  id               String            @id @default(cuid())
  title            String
  createdAt        DateTime          @default(now())
  updatedAt        DateTime          @default(now())
  endDateTime      DateTime
  startDateTime    DateTime
  leadingCompanyId String?
  longDescription  String?
  mainBannerUrl    String?
  mainImageUrl     String?
  mapUrl           String?
  physicalLocation String?
  target           Target?
  price            Float             @default(0)
  categories       Profession[]      @default([MEDICO_DERMATOLOGIA])
  leadingCompany   Empresa?          @relation("LeadingCompany", fields: [leadingCompanyId], references: [id], onDelete: Cascade)
  brands           EventBrand[]
  enrollments      EventEnrollment[]
  organizers       EventOrganizer[]
  streams          EventStream[]
  workshops        Workshop[]
  attendees        User[]            @relation("EventAttendees")
}

model EventEnrollment {
  id        String   @id @default(cuid())
  eventId   String
  userId    String
  status    String
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  event     Event    @relation(fields: [eventId], references: [id], onDelete: Cascade)
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([eventId, userId])
}

model EventOrganizer {
  id        String   @id @default(cuid())
  eventId   String
  name      String
  career    String?
  photoUrl  String?
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  event     Event    @relation(fields: [eventId], references: [id], onDelete: Cascade)
}

model EventStream {
  id            String                  @id @default(cuid())
  eventId       String
  startDateTime DateTime
  endDateTime   DateTime
  createdAt     DateTime                @default(now())
  updatedAt     DateTime                @default(now())
  channelName   String?                 @unique
  imageUrl      String?
  categories    Profession[]            @default([MEDICO_DERMATOLOGIA])
  description   String                  @default("")
  name          String                  @default("")
  event         Event                   @relation(fields: [eventId], references: [id], onDelete: Cascade)
  enrollments   EventStreamEnrollment[] @relation("EventStreamEnrollments")
  attendees     User[]                  @relation("EventStreamAttendees")
  orators       Instructor[]            @relation("StreamOrators")
}

model Workshop {
  id               String               @id @default(cuid())
  eventId          String?
  title            String
  description      String
  whatYouWillLearn String?
  price            Float?
  startDateTime    DateTime
  endDateTime      DateTime
  createdAt        DateTime             @default(now())
  updatedAt        DateTime             @default(now())
  channelName      String?              @unique
  imageUrl         String?
  categories       Profession[]         @default([MEDICO_DERMATOLOGIA])
  isFree           Boolean              @default(false)
  event            Event?               @relation(fields: [eventId], references: [id], onDelete: Cascade)
  enrollments      WorkshopEnrollment[]
  attendees        User[]               @relation("WorkshopAttendees")
  orators          Instructor[]         @relation("WorkshopInstructors")
}

model WorkshopEnrollment {
  id         String   @id @default(cuid())
  workshopId String
  userId     String
  status     String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @default(now())
  user       User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  workshop   Workshop @relation(fields: [workshopId], references: [id], onDelete: Cascade)

  @@unique([workshopId, userId])
}

model BlogAuthor {
  id                String     @id @default(cuid())
  userId            String     @unique
  description       String
  experienceYears   Int        @default(0)
  certificationsUrl String?
  user              User       @relation(fields: [userId], references: [id], onDelete: Cascade, map: "User_BlogAuthor")
  blogPosts         BlogPost[]
}

model BlogCategory {
  id        String     @id @default(cuid())
  name      String     @unique
  colorHex  String
  createdAt DateTime   @default(now())
  updatedAt DateTime   @default(now())
  iconUrl   String?
  blogPosts BlogPost[] @relation("BlogPostCategories")
}

model BlogPost {
  id             String         @id @default(cuid())
  title          String
  content        String
  bannerImage    String?
  empresaId      String
  authorId       String
  createdAt      DateTime       @default(now())
  updatedAt      DateTime       @default(now())
  averageRating  Float          @default(0)
  totalRatings   Int            @default(0)
  description    String         @default("")
  notUsefulCount Int?           @default(0)
  totalReaders   Int?           @default(0)
  usefulCount    Int?           @default(0)
  comments       BlogComment[]  @relation("BlogPostComments")
  author         BlogAuthor     @relation(fields: [authorId], references: [id], onDelete: Cascade)
  empresa        Empresa        @relation(fields: [empresaId], references: [id], onDelete: Cascade)
  ratings        BlogRating[]
  categories     BlogCategory[] @relation("BlogPostCategories")
}

model BlogComment {
  id        String   @id @default(cuid())
  postId    String
  userId    String
  content   String
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  post      BlogPost @relation("BlogPostComments", fields: [postId], references: [id], onDelete: Cascade)
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model BlogRating {
  id        String   @id @default(cuid())
  postId    String
  userId    String
  rating    Int      @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  post      BlogPost @relation(fields: [postId], references: [id], onDelete: Cascade)
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model ChatRoom {
  id         String         @id @default(cuid())
  entityId   String
  entityType ChatEntityType
  createdAt  DateTime       @default(now())
  updatedAt  DateTime       @updatedAt
  messages   ChatMessage[]  @relation("ChatRoomMessages")
}

model ChatMessage {
  id         String   @id @default(cuid())
  chatRoomId String
  userId     String   @default("user-001")
  message    String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @default(now())
  chatRoom   ChatRoom @relation("ChatRoomMessages", fields: [chatRoomId], references: [id], onDelete: Cascade)
  user       User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model EventBrand {
  id        String   @id @default(cuid())
  name      String
  imageUrl  String?
  eventId   String
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  event     Event    @relation(fields: [eventId], references: [id], onDelete: Cascade)
}

model EventStreamEnrollment {
  id            String      @id @default(cuid())
  eventStreamId String
  userId        String
  status        String
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @default(now())
  eventStream   EventStream @relation("EventStreamEnrollments", fields: [eventStreamId], references: [id], onDelete: Cascade)
  user          User        @relation("UserEventStreamEnrollments", fields: [userId], references: [id], onDelete: Cascade)

  @@unique([eventStreamId, userId])
}

model Message {
  id          String      @id @default(cuid())
  name        String
  phone       String
  email       String
  description String
  userId      String?
  empresaId   String?
  productId   String?
  type        MessageType
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @default(now())
}

model Minisite {
  id                String                     @id @default(cuid())
  empresaId         String                     @unique
  videoUrl          String?
  aboutDescription  Json?
  followersCount    Int?                       @default(0)
  coursesCount      Int?                       @default(0)
  productsCount     Int?                       @default(0)
  createdAt         DateTime                   @default(now())
  updatedAt         DateTime                   @default(now())
  minisiteColor     String?
  slogan            String?
  catalogueUrl      String?
  empresa           Empresa                    @relation(fields: [empresaId], references: [id], onDelete: Cascade)
  benefits          MinisiteBenefit[]
  featuredProducts  MinisiteFeaturedProduct[]
  highlightProducts MinisiteHighlightProduct[]
  offers            MinisiteOffer[]
  slides            MinisiteSlide[]
  specialities      MinisiteSpeciality[]
}

model MinisiteSlide {
  id          String   @id @default(cuid())
  minisiteId  String
  title       String
  description String
  cta         String?
  imageSrc    String?
  order       Int?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @default(now())
  minisite    Minisite @relation(fields: [minisiteId], references: [id], onDelete: Cascade)
}

model MinisiteBenefit {
  id          String   @id @default(cuid())
  minisiteId  String
  title       String
  description String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @default(now())
  minisite    Minisite @relation(fields: [minisiteId], references: [id], onDelete: Cascade)
}

model MinisiteOffer {
  id           String                 @id @default(cuid())
  minisiteId   String
  sectionTitle String?
  createdAt    DateTime               @default(now())
  updatedAt    DateTime               @default(now())
  minisite     Minisite               @relation(fields: [minisiteId], references: [id], onDelete: Cascade)
  products     MinisiteOfferProduct[]
}

model MinisiteOfferProduct {
  id          String        @id @default(cuid())
  offerId     String
  title       String
  description String
  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @default(now())
  offer       MinisiteOffer @relation(fields: [offerId], references: [id], onDelete: Cascade)
}

model MinisiteFeaturedProduct {
  id         String   @id @default(cuid())
  minisiteId String
  productId  String   @unique
  order      Int?
  tagline    String?
  createdAt  DateTime @default(now())
  updatedAt  DateTime @default(now())
  minisite   Minisite @relation(fields: [minisiteId], references: [id], onDelete: Cascade)
  product    Product  @relation("FeaturedRelation", fields: [productId], references: [id], onDelete: Cascade)
}

model MinisiteHighlightProduct {
  id                   String   @id @default(cuid())
  minisiteId           String
  productId            String
  highlightFeatures    String[]
  highlightDescription String?
  hoghlightImageUrl    String?
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
  minisite             Minisite @relation(fields: [minisiteId], references: [id], onDelete: Cascade)
  product              Product  @relation(fields: [productId], references: [id], onDelete: Cascade)

  @@unique([minisiteId, productId])
}

model MinisiteSpeciality {
  id         String   @id @default(cuid())
  minisiteId String
  imageUrl   String
  title      String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @default(now())
  minisite   Minisite @relation(fields: [minisiteId], references: [id], onDelete: Cascade)
}

model ProductCompanyCategory {
  id               Int       @id @default(autoincrement())
  name             String    @db.VarChar(100)
  companyId        String
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @default(now())
  bannerImageUrl   String?
  miniSiteImageUrl String?
  footerBanner     String?
  iconUrl          String?
  products         Product[] @relation("CategoryProducts")
  company          Empresa   @relation(fields: [companyId], references: [id], onDelete: Cascade)

  @@unique([name, companyId])
  @@index([companyId])
}

model Product {
  id                String                     @id @default(cuid())
  name              String                     @db.VarChar(200)
  description       String
  companyId         String
  createdAt         DateTime                   @default(now())
  updatedAt         DateTime                   @default(now())
  isFeatured        Boolean?                   @default(false)
  activeIngredients String[]
  benefits          String[]
  categoryId        Int
  features          String[]
  imageGallery      String[]
  imageMain         String?
  isBestSeller      Boolean?                   @default(false)
  isOnSale          Boolean?                   @default(false)
  lab               String?
  problemAddressed  String?
  featured          MinisiteFeaturedProduct?   @relation("FeaturedRelation")
  highlightProducts MinisiteHighlightProduct[]
  presentations     Presentation[]             @relation("ProductPresentations")
  category          ProductCompanyCategory     @relation("CategoryProducts", fields: [categoryId], references: [id], onDelete: Cascade)
  company           Empresa                    @relation(fields: [companyId], references: [id], onDelete: Cascade)
reactions ProductReaction[]
  @@unique([categoryId, name])
}

model Presentation {
  id          Int      @id @default(autoincrement())
  productId   String
  size        Decimal
  unit        Unit
  description String?
  price       Float?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @default(now())
  product     Product  @relation("ProductPresentations", fields: [productId], references: [id], onDelete: Cascade)

  @@index([productId])
}

model ClassComment {
  id              String         @id @default(cuid())
  userId          String
  classId         String
  parentCommentId String?
  content         String
  createdAt       DateTime       @default(now())
  updatedAt       DateTime       @default(now())
  class           Class          @relation(fields: [classId], references: [id], onDelete: Cascade)
  parent          ClassComment?  @relation("ClassCommentReplies", fields: [parentCommentId], references: [id], onDelete: Cascade)
  replies         ClassComment[] @relation("ClassCommentReplies")
  user            User           @relation(fields: [userId], references: [id], onDelete: Cascade)
}

enum Gender {
  MALE
  FEMALE
  OTHER
}

enum SubscriptionType {
  ORO
  PLATA
  BRONCE
  BASICO
  INTERMEDIO
  PREMIUM
}

enum Role {
  MEDICO
  COSMETOLOGO
  ADMIN
  ESTANDAR
  EMPRESA
  INSTRUCTOR
}

enum ProfessionType {
  MEDICO
  ESTETICISTA
  COSMETOLOGO
}

enum Target {
  MEDICO
  COSMETOLOGO
}

enum Profession {
  DERMATOLOGIA
  MEDICINA_ESTETICA
  ESTUDIANTE_DE_MEDICINA
  ESTETICA
  COSMIATRIA
  COSMETOLOGIA
  ADMINISTRACION_SPA
  NUTRICION
  TERAPIA_FISICA_REHABILITACION
  MEDICINA_ALTERNATIVA
  QUIMICA_COSMETICA
  ESTUDIANTE_AREA_ESTETICA
  MEDICO_DERMATOLOGIA
  MEDICO_MEDICINA_ESTETICA
  MEDICO_ESTUDIANTE_DE_MEDICINA
  COSMETOLOGO_COSMIATRIA
  COSMETOLOGO_COSMETOLOGIA
  COSMETOLOGO_ADMINISTRACION_SPA
  COSMETOLOGO_NUTRICION
  COSMETOLOGO_TERAPIA_FISICA_REHABILITACION
  COSMETOLOGO_MEDICINA_ALTERNATIVA
  COSMETOLOGO_QUIMICA_COSMETICA
  COSMETOLOGO_ESTUDIANTE_AREA_ESTETICA
  COSMETOLOGO_ESTETICA
}

enum Giro {
  EMPRESA_PROFESIONAL_PERFIL
  EMPRESA_APARATOLOGIA_PERFIL
  EMPRESA_MOBILIARIO_PERFIL
  EMPRESA_DESECHABLES_PERFIL
  EMPRESA_AROMATERAPIA_PERFIL
  EMPRESA_FABRICANTE_LABORATORIO_PERFIL
  EMPRESA_ADMINISTRACION_PERFIL
  SOCIEDAD_ASOCIACION_PERFIL
  UNIVERSIDAD_ESCUELA_PERFIL
  OTRO_PERFIL
  SERVICIOS_DIGITALES_PERFIL
}

enum EmpresaCategory {
  EMPRESA_PERFIL
  SOCIEDAD_ASOCIACION_PERFIL
  UNIVERSIDAD_ESCUELA_PERFIL
  OTRO_PERFIL
}

enum CommentType {
  TEXT
  RATING
}

enum MessageType {
  direct
  product
}

enum ChatEntityType {
  STREAM
  WORKSHOP
  CLASSROOM
}

enum Unit {
  ML
  G
  KG
  OZ
  L
  FL_OZ
  MG
}

enum ReactionType {
  LIKE
  DISLIKE
}

model CourseReaction {
  id        String       @id @default(cuid())
  userId    String
  courseId  String
  type      ReactionType @default(LIKE)
  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt

  user      User   @relation(fields: [userId],   references: [id], onDelete: Cascade)
  course    Course @relation(fields: [courseId], references: [id], onDelete: Cascade)

  @@unique([userId, courseId])
}

model ProductReaction {
  id        String       @id @default(cuid())
  userId    String
  productId String
  type      ReactionType @default(LIKE)
  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt

  user      User    @relation(fields: [userId],    references: [id], onDelete: Cascade)
  product   Product @relation(fields: [productId], references: [id], onDelete: Cascade)

  @@unique([userId, productId])
}
